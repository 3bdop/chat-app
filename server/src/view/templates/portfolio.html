<!DOCTYPE html>
<html lang="en">

<head>
  <title>3bdop Smart Portfolio</title>
  <link rel="icon" type="image/x-icon" href="https://models.readyplayer.me/671fba5095f66d10f33251c6.png">
  <link rel="stylesheet" href="/static/style2.css">

  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.js/+esm",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.170.0/examples/jsm/",
        "talkinghead": "https://cdn.jsdelivr.net/gh/met4citizen/TalkingHead@1.5/modules/talkinghead.mjs"
      }
    }
  </script>

  <script
    src="https://cdn.jsdelivr.net/npm/microsoft-cognitiveservices-speech-sdk@latest/distrib/browser/microsoft.cognitiveservices.speech.sdk.bundle-min.js"></script>

  <script type="module" src="{{ url_for('static', path='js/avatar.js') }}"></script>
  <script>
    function goToLink(url) {
      window.open(url, '_blank');
    }
  </script>
</head>

<body>
  <div class="dot-pattern"></div>
  <div class="dot-mask"></div>
  <!-- 3D Avatar -->
  <div id="avatar-container">
    <div id="avatar"></div>
  </div>
  <div id="subtitles"></div>

  <!-- Controls at the top -->
  <div id="controls">
    <input id="text" type="text" placeholder="Type here..." />
    <!-- From Uiverse.io by Ashon-G -->
    <!-- <button id="speak">Send</button> -->
    <button id="speak" class="uiverse">
      <div class="wrapper">
        <span id="btn-txt">Ask</span>
        <div class="circle circle-12"></div>
        <div class="circle circle-11"></div>
        <div class="circle circle-10"></div>
        <div class="circle circle-9"></div>
        <div class="circle circle-8"></div>
        <div class="circle circle-7"></div>
        <div class="circle circle-6"></div>
        <div class="circle circle-5"></div>
        <div class="circle circle-4"></div>
        <div class="circle circle-3"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-1"></div>
      </div>
    </button>
    <button id="settings-button">Settings</button>
  </div>

  <!-- Collapsible Settings Panel -->
  <div id="settings-panel">
    <!-- <label for="azure-key">Azure Key</label>
    <input id="azure-key" type="text" aria-label="Azure key" placeholder="Enter Azure Key">

    <label for="azure-region">Azure Region</label>
    <input id="azure-region" type="text" aria-label="Azure region" placeholder="Enter Azure Region">
    <br>
    <fieldset id="lipsync-type">
      <legend>Lip-sync Data Type</legend>
      <label>
        <input type="radio" name="lipsync_type" value="visemes" checked>
        Visemes
      </label>
      <label>
        <input type="radio" name="lipsync_type" value="words">
        Words
      </label>
      <label>
        <input type="radio" name="lipsync_type" value="blendshapes">
        Blend shapes
      </label>
    </fieldset> -->
    <fieldset id="view">
      <legend>Avatar View</legend>
      <label>
        <input type="radio" name="view_type" value="full">
        Full
      </label>
      <label>
        <input type="radio" name="view_type" value="mid" checked>
        Mid
      </label>
      <label>
        <input type="radio" name="view_type" value="upper">
        Upper
      </label>
      <label>
        <input type="radio" name="view_type" value="head">
        Head
      </label>
    </fieldset>
  </div>
  <div class="action-wrap">
    <button class="action" type="button" onclick="goToLink('https://linkedin.com/in/3bdop')">
      <svg class="action-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 
           2.24 5 5 5h14c2.76 0 5-2.24 
           5-5v-14c0-2.76-2.24-5-5-5zm-11 
           19h-3v-10h3v10zm-1.5-11.28c-.97 
           0-1.75-.79-1.75-1.75s.79-1.75 
           1.75-1.75 1.75.79 
           1.75 1.75-.79 1.75-1.75 
           1.75zm13.5 11.28h-3v-5.5c0-1.1-.9-2-2-2s-2 
           .9-2 2v5.5h-3v-10h3v1.28c.56-.86 
           1.53-1.28 2.5-1.28 1.93 0 
           3.5 1.57 3.5 3.5v6.5z" />
      </svg>

      <span class="action-content" data-content="linkedin"></span>
    </button>

    <button class="action" type="button" onclick="goToLink('https://github.com/3bdop')">
      <svg class="action-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-linejoin="round"
        stroke-linecap="round" stroke-width="2" stroke="currentColor" fill="none">
        <path
          d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5">
        </path>
      </svg>
      <span class="action-content" data-content="github"></span>
    </button>

    <button class="action" type="button" onclick="goToLink('mailto:amuhana22@gmail.com')">
      <svg class="action-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 5h18a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2z" />
        <polyline points="3,7 12,13 21,7" />
      </svg>

      <span class="action-content" data-content="gmail"></span>
    </button>
    <button class="action" type="button" onclick="goToLink('https://instagram.com/3bdop')">
      <svg class="action-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="2" y="2" width="20" height="20" rx="5" ry="5" />
        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" />
        <line x1="17.5" y1="6.5" x2="17.5" y2="6.5" />
      </svg>
      <span class="action-content" data-content="instagram"></span>
    </button>

    <div class="backdrop"></div>
  </div>

  <!-- Loading or error display -->
  <div id="loading"></div>
</body>

</html>